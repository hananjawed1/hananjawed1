<style>  
    .borderCSS {
        border: 1px solid black;
    }
  </style>

<div *ngIf="loading" class="row">
    <div class="col-md-12">
      <div class="alert alert-warning">
        <span class="spinner-border spinner-border-sm mr-1"></span>
        Loading....
      </div>
    </div>
</div>

<div *ngIf="loading == false">
    <table style="width: 70%; margin-left: 15%; margin-top: 5%;">
        <tr>
            <th style="width: 80%;"></th>
            <th style="width: 20%; text-align: center;"><h5>INSPECTION REPORT</h5></th>
        </tr>
        <tr>
            <td style="width: 80%;"></td>
            <td style="width: 20%; text-align: center;">
                <table class="borderCSS" style="width: 100%; float: right;">
                    <thead>
                      <tr>
                        <th class="borderCSS" style="background-color: lightgrey;">DATE</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="borderCSS">{{clientDetails.invoiceDate != null ? (clientDetails.invoiceDate |  date:'MM/dd/yyyy') : (currentDate |  date:'MM/dd/yyyy')}}</td>
                      </tr>
                    </tbody>
                  </table> 
            </td>
        </tr>
        <tr>
            <td style="width: 80%;">
                <table style="width: 60%;">
                    <tr>
                      <th style="background-color: lightgrey; padding: 5px;">Inspection Details: </th>
                    </tr>
                    <tr>
                        <td style="padding-top: 8px;"><font style="font-weight: 900;">Application Number : </font>{{clientDetails.applicationNumber != null && clientDetails.applicationNumber != '' ? clientDetails.applicationNumber : 'NA' }}</td>
                    </tr>
                    <tr>
                        <td><font style="font-weight: 900;">Trade Licence Number : </font>{{clientDetails.tradeLicenceNumber != null && clientDetails.tradeLicenceNumber != '' ? clientDetails.tradeLicenceNumber : 'NA'}}</td>
                    </tr>
                    <tr>
                        <td><font style="font-weight: 900;">Entity Name : </font> {{clientDetails.entityName != null && clientDetails.entityName != '' ? clientDetails.entityName : 'NA'}}</td>
                    </tr>
                    <tr>
                        <td><font style="font-weight: 900;">Business Location : </font> {{clientDetails.businessLocation != null && clientDetails.businessLocation != '' ? clientDetails.businessLocation : 'NA'}}</td>
                    </tr>
                    <tr>
                        <td><font style="font-weight: 900;">Business Type : </font> {{clientDetails.businessTypeString != null && clientDetails.businessTypeString != '' ? clientDetails.businessTypeString : 'NA'}}</td>
                    </tr>
                    <tr>
                        <td><font style="font-weight: 900;">Email : </font> {{clientDetails.user.email != null && clientDetails.user.email != '' ? clientDetails.user.email : 'NA'}}</td>
                    </tr>
                    <tr>
                        <td style="padding-bottom: 8px;"><font style="font-weight: 900;">Phone Number : </font>{{clientDetails.user.phoneNumber != null && clientDetails.user.phoneNumber != '' ? clientDetails.user.phoneNumber : 'NA'}}</td>
                    </tr>
                </table>
            </td>
            <td></td>
        </tr>
        <tr>
            <td colspan="3">
                <table  id="items" style="border: 1px solid; width:100%">
                    <thead>
                      <tr>
                        <th colspan="2" style="text-align: center; width: 80%; border: 1px solid black; background-color: lightgrey;">Description</th>
                        <!-- <th style="border: 1px solid black; text-align: center; background-color: lightgrey;"></th> -->
                      </tr>
                    </thead>
                    <tbody style="border: 1px solid;">
                        <tr>
                            <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.taskName}}</th>
                            <td style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.taskName}}</td>
                        </tr>
                        <tr>
                            <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.taskDescription}}</th>
                            <td style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.taskDescription}}</td>
                        </tr>
                        <tr>
                            <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.startDate}}</th>
                            <td style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.startDate}}</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.endDate}}</th>
                          <td style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.endDate}}</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.priorityLevel}}</th>
                          <td *ngIf='inspectionTaskList?.priorityLevel===1' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.high}}</td>
                          <td *ngIf='inspectionTaskList?.priorityLevel===2' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.medium}}</td>
                          <td *ngIf='inspectionTaskList?.priorityLevel===3' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.low}}</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.inspection}}</th>
                          <td *ngIf='inspectionTaskList?.inspection===1' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.normalInspection}}</td>
                          <td *ngIf='inspectionTaskList?.inspection===2' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.surpriseInspection}}</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.taskType}}</th>
                          <td *ngIf='inspectionTaskList?.taskType != null' style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList.taskType}}</td>
                          <td *ngIf='inspectionTaskList?.taskType == null' style="border-right: 1px solid black; padding: 10px;">-</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.status}}</th>
                          <td *ngIf='inspectionTaskList?.status===1' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.new}}</td>
                          <td *ngIf='inspectionTaskList?.status===2' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.inProgress}}</td>
                          <td *ngIf='inspectionTaskList?.status===3' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.accepted}}</td>
                          <td *ngIf='inspectionTaskList?.status===4' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.atLocation}}</td>
                          <td *ngIf='inspectionTaskList?.status===5' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.completed}}</td>
                          <td *ngIf='inspectionTaskList?.status===6' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.cancelled}}</td>
                          <td *ngIf='inspectionTaskList?.status===7' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.rejected}}</td>
                          <td *ngIf='inspectionTaskList?.status===8' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.completed}}</td>
                          <td *ngIf='inspectionTaskList?.status===9' style="border-right: 1px solid black; padding: 10px;">{{siteLabel.returned}}</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.taskCompletionTime}}</th>
                          <td *ngIf="inspectionTaskList?.timedifference != ''" style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.timedifference}}</td>
                          <td *ngIf="inspectionTaskList?.timedifference == ''" style="border-right: 1px solid black; padding: 10px;">NA</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.location}}</th>
                          <td style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.location}}</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.systemEmployees}}</th>
                          <td style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.employeeNames}}</td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.empGroup}}</th>
                          <td style="border-right: 1px solid black; padding: 10px;">{{inspectionTaskList?.employeeGroupNames}}</td>
                        </tr>
                        <tr *ngIf="inspectionTaskList?.returnNote != null && inspectionTaskList?.returnNote != ''">
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.returnNotes}}</th>
                          <td style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList.returnNote.split(',').length == 1">{{inspectionTaskList.returnNote}}</td>
                          <td style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList.returnNote.split(',').length > 1">
                            <table style="border: 1px solid; width:100%">
                              <tr style="border-right: 1px solid black; padding: 10px;" *ngFor="let item of inspectionTaskList?.returnNote.split(',')">
                                  <td style="border-right: 1px solid black; padding: 10px;">{{item}}</td>
                              </tr>
                            </table>
                          </td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.assignChecklistGroup}}</th>
                          <td  style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList?.assignCheckListGroupDetails == ''">NA</td>
                          <td style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList?.assignCheckListGroupDetails != ''">
                            <table style="border: 1px solid; width: 100%;">
                              <tr *ngFor='let assignChecklist of inspectionTaskList.assignCheckListGroupDetails'>
                                <td style="border-right: 1px solid black; padding: 10px;">{{assignChecklist.name}}</td>
                                <td style="border-right: 1px solid black; padding: 10px;">
                                  <table style="border: 1px solid;width: 100%;">                     
                                    <tr *ngFor='let checklistOptions of assignChecklist.checkListOptionsDetails'>
                                      <div><label>{{siteLabel.question}}: </label> &nbsp;{{checklistOptions.question}}</div>
                                      <div *ngIf="checklistOptions.finalAnswer != ''"><label> {{siteLabel.answer}}: </label>&nbsp;{{checklistOptions.finalAnswer}}</div>
                                      <div *ngIf="checklistOptions.finalAnswer == ''"><label> {{siteLabel.answer}}: </label>&nbsp;NA</div>
                                      <hr>
                                    </tr>
                                  </table>
                                </td>
                              </tr>
                            </table> 
                          </td>
                        </tr>
                        <tr>
                          <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.taskNotes}}</th>
                          <td style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList.taskNotes == ''">NA</td>
                          <td style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList.taskNotes != ''">
                            <table>
                              <tr *ngFor="let notes of inspectionTaskList.taskNotes">
                                <td style="border-right: 1px solid black; padding: 10px;">{{notes.taskNote}}</td>
                              </tr>
                            </table>
                          </td>
                        </tr>
                      <tr>
                        <th style="border-right: 1px solid black; padding: 10px;">{{siteLabel.taskImages}}</th>
                        <td style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList.taskImageOrVideo.length == 0">NA</td>
                        <td style="border-right: 1px solid black; padding: 10px;" *ngIf="inspectionTaskList.taskImageOrVideo.length > 0">
                          <table>
                            <tr *ngFor="let item of inspectionTaskList.taskImageOrVideo">
                              <td style="border-right: 1px solid black; padding: 10px;">
                                <img style="border-right: 1px solid black; padding: 10px; width: 50%;" src="{{item.taskImageOrVideo}}" alt="Image"
                                    class="img-responsive">
                              </td>
                            </tr>
                          </table>
                        </td>
                      </tr>
                       
                    </tbody>
                    <!-- <tfoot style="border: 1px solid;">
                      <tr>
                        <th style="border: 1px solid black; text-align: center; width: 60%;">Thank You</th>
                        <th style="border: 1px solid black; text-align: center">TOTAL</th>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 1">150,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 2">100,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 3">70,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 4">45,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 5">40,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 6">25,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 7">25,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 8">25,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 9">25,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 10">500,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 11">25,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == 12">25,020</td>
                        <td style="border-right: 1px solid black; text-align: right; padding: 10px;" *ngIf="clientDetails?.star == null">0</td>
                      </tr>
                    </tfoot> -->
                  
                  </table>
            </td>
        </tr>
        
    </table>   
</div> 